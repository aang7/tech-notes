<!DOCTYPE html>
<html lang="en">
<head>
<!-- Aug 02, 2023 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>notes</title>
<meta name="generator" content="Org mode">
<meta name="author" content="Abel Abner">
<link rel='stylesheet' href='https://cdn.simplecss.org/simple.min.css' />
   <link rel='stylesheet' type='text/css' href='../css/tech-notes-site.css' />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../"> UP </a>
 |
 <a accesskey="H" href="../"> HOME </a>
</div><nil id="nil">
<header>
<h1 class="title">notes</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org33e7b4f">1. bind, apply and call</a></li>
<li><a href="#orgc406171">2. TDD</a></li>
<li><a href="#org12632b9">3. Tests</a>
<ul>
<li><a href="#orga162aa9">3.1. Types of tests</a>
<ul>
<li><a href="#orgcbe39b3">3.1.1. Unit tests</a></li>
<li><a href="#orgcdf4484">3.1.2. Integrations tests</a></li>
<li><a href="#org881ce57">3.1.3. End-to-end tests</a></li>
</ul>
</li>
<li><a href="#org39e053a">3.2. Tooling for tests</a></li>
</ul>
</li>
</ul>
</div>
</nav>

<section id="outline-container-org33e7b4f" class="outline-2">
<h2 id="org33e7b4f"><span class="section-number-2">1</span> bind, apply and call</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">
<pre class="src src-js"><span class="org-keyword">const</span> <span class="org-variable-name">name</span> = <span class="org-string">"Name 0"</span>

<span class="org-keyword">const</span> <span class="org-variable-name">obj1</span> = {
    name: <span class="org-string">'Name 1'</span>,
    <span class="org-function-name">getName</span>: <span class="org-keyword">function</span>() {
        <span class="org-keyword">return</span> <span class="org-constant">this</span>.name
    }
}

<span class="org-keyword">const</span> <span class="org-variable-name">obj2</span> = {
    name: <span class="org-string">'Name 2'</span>,
    <span class="org-function-name">getName</span>: <span class="org-keyword">function</span>() {
        <span class="org-keyword">return</span> <span class="org-constant">this</span>.name
    }
}

<span class="org-keyword">const</span> <span class="org-variable-name">obj3</span> = {
    name: <span class="org-string">'Name 3'</span>,
    other: {
        xname: <span class="org-string">'xd'</span>,
        <span class="org-function-name">getName</span>: <span class="org-keyword">function</span>(){
            <span class="org-keyword">return</span> <span class="org-constant">this</span>
        }
    },
    getName: () =&gt; {
        <span class="org-keyword">return</span> <span class="org-constant">this</span>
    }
}


console.log(obj1.getName()) <span class="org-comment-delimiter">// </span><span class="org-comment">normal call</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">this creates a new function, a copy of the referenced one (in this case obj2)</span>
<span class="org-keyword">const</span> <span class="org-variable-name">bindWithBind</span> = obj1.getName.bind(obj2)
<span class="org-comment-delimiter">// </span><span class="org-comment">on the other hand, apply and call methods doesn't create a copy but just call a function</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">with the specified scope/context or 'this' reference.</span>
<span class="org-keyword">const</span> <span class="org-variable-name">obj2ResultWithApply</span> = obj2.getName.apply(obj1) <span class="org-comment-delimiter">// </span><span class="org-comment">call function with obj1 context</span>
<span class="org-keyword">const</span> <span class="org-variable-name">obj2ResultWithCall</span> = obj1.getName.call(obj2) <span class="org-comment-delimiter">// </span><span class="org-comment">call function with obj2 context</span>

console.log(bindWithBind())
console.log(obj2ResultWithCall)
console.log(obj2ResultWithApply)

<span class="org-comment-delimiter">// </span><span class="org-comment">on obj3 we are showing that an anonymous function will get the context of the object that wraps</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">the function we are calling (in this case the global context)</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">and an arrow '=&gt;' will not get any context at all</span>
console.log(obj3.other.getName())
console.log(obj3.getName())


<span class="org-comment-delimiter">// </span><span class="org-comment">the only difference between apply and call is how we pass in arguments</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">apply expects and array of all the required parameters</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">and call expects parameters to be passed in inline</span>
<span class="org-keyword">const</span> <span class="org-variable-name">obj4</span> = {
    name: <span class="org-string">'Abel Abner'</span>,
    <span class="org-function-name">salute</span>: <span class="org-keyword">function</span>(<span class="org-variable-name">greeting</span>) {
        <span class="org-keyword">return</span> <span class="org-string">`${greeting} ${this.name}`</span>
    }
}
<span class="org-keyword">const</span> <span class="org-variable-name">result4Apply</span> = obj4.salute.apply(obj3, [<span class="org-string">'Hi'</span>])
<span class="org-keyword">const</span> <span class="org-variable-name">result4Call</span> = obj4.salute.call(obj3, <span class="org-string">'Hello'</span>)
console.log(result4Apply)
console.log(result4Call)
</pre>
</div>


<p>
Useful references:
</p>
<ul class="org-ul">
<li><a href="https://medium.com/@omergoldberg/javascript-call-apply-and-bind-e5c27301f7bb">medium.com/@omergoldberg</a></li>
<li><a href="https://stackoverflow.com/a/8670919">'this' value inside anonymous functions</a></li>
<li><a href="https://stackoverflow.com/a/1981556">more about 'this' in functions</a></li>
<li><a href="https://www.linkedin.com/pulse/javascript-named-vs-anonymous-functions-chris-ng/">Named vs Anonymous functions in Javascript</a></li>
</ul>
</div>
</section>
<section id="outline-container-orgc406171" class="outline-2">
<h2 id="orgc406171"><span class="section-number-2">2</span> TDD</h2>
<div class="outline-text-2" id="text-2">

<figure>
<img src="nodejs.org_imgs/20220924_190154_aPeAz0.png" alt="20220924_190154_aPeAz0.png">

</figure>
</div>
</section>


<section id="outline-container-org12632b9" class="outline-2">
<h2 id="org12632b9"><span class="section-number-2">3</span> Tests</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orga162aa9" class="outline-3">
<h3 id="orga162aa9"><span class="section-number-3">3.1</span> Types of tests</h3>
<div class="outline-text-3" id="text-3-1">

<figure>
<img src="nodejs.org_imgs/20220531_103404_3xunju.png" alt="20220531_103404_3xunju.png">

</figure>
</div>

<div id="outline-container-orgcbe39b3" class="outline-4">
<h4 id="orgcbe39b3"><span class="section-number-4">3.1.1</span> Unit tests</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Make unit tests on functions that have 0 or minimal external dependecies (e.g. database or http interactions).
</p>
</div>
</div>
<div id="outline-container-orgcdf4484" class="outline-4">
<h4 id="orgcdf4484"><span class="section-number-4">3.1.2</span> Integrations tests</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
Tests a class or component with its external dependencies.
</p>
<ul class="org-ul">
<li>Take longer to execute</li>
<li>Give you more confidence because it interacts with a database, for example.</li>
</ul>
</div>
</div>

<div id="outline-container-org881ce57" class="outline-4">
<h4 id="org881ce57"><span class="section-number-4">3.1.3</span> End-to-end tests</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
Drives an application trough the UI.
</p>
<ul class="org-ul">
<li>gives you great confidence</li>
<li>But they are very slow.</li>
<li>An example of a program used to do this kind of tests, is selenium.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org39e053a" class="outline-3">
<h3 id="org39e053a"><span class="section-number-3">3.2</span> Tooling for tests</h3>
<div class="outline-text-3" id="text-3-2">

<figure>
<img src="nodejs.org_imgs/20220531_104113_H01DDK.png" alt="20220531_104113_H01DDK.png">

</figure>
</div>
</div>
</section>
</nil>
<footer id="postamble" class="status">

<div class='footer'>
Copyright © 2022 <a href='mailto:aang.drummer@gmail.com'>Abel Güitian</a> | <a href='https://github.com/aang7/aang7.github.io'>Source</a><br>
Last updated on Aug 02, 2023 using Emacs 29.0.60 (Org mode 9.6) <br>
</div>
</footer>
</body>
</html>
